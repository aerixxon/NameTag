<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>NameTag</title>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
      <script src="http://code.jquery.com/jquery-latest.min.js"></script>


    <!-- Bootstrap -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="roster.js"></script>
    <script type="text/javascript" src="Student.js"></script>
      
    <link rel="stylesheet" href="./mainlayout.css">
  </head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">NameTag</a>
        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            <li class="btn-group">
              <button type="button" class="btn btn-default dropdown-toggle navbar-btn" data-toggle="dropdown" aria-expanded="false">
                6.813 <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu">
                <li><a href="#">6.813</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Rob Miller <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="profile.html">Progress</a></li>
                <li class="divider"></li>
                <li><a href="login.html">Sign out</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav> <!-- navbar -->


    <div class="container">
      <div class="row" id="top-row">

      </div>
    </div> <!-- top row -->

    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-2 sidebar">
          <div class="panel panel-default">
            <div class="panel-heading">Filters</div>
            <ul class="list-group">
              <li class="list-group-item">
                <div class="checkbox">
                  <label>
                    <input type="checkbox" id = "ToLearn" value="">To Learn
                  </label>
                </div>
                <div class="checkbox" >
                  <label>
                    <input type="checkbox" id = "Learned2" value="">Learned
                  </label>
                </div>
              </li>
              <li class="list-group-item">
                <div class="checkbox">
                  <label>
                    <input type="checkbox" id = "Male" value="">Male
                  </label>
                </div>
                <div class="checkbox">
                  <label>
                    <input type="checkbox" id = "Female" value="">Female
                  </label>
                </div>
              </li>
              <li class="list-group-item">
                <div class="checkbox">
                  <label>
                    <input type="checkbox" id = "Undergrad" value="">Undergraduate
                  </label>
                </div>
                <div class="checkbox">
                  <label>
                    <input type="checkbox" id = "Grad" value="">Graduate
                  </label>
                </div>
              </li>     
            </ul>
          </div>
        </div> <!-- filters panel -->

        <div id ="tabs" class="col-lg-10">
          <div role="tabpanel">
            <!-- Nav tabs -->
            <ul id = "myTabs" class="nav nav-tabs" role="tablist">
              <li role="presentation" class="active"><a href="#roster" aria-controls="roster" role="tab" data-toggle="tab">Roster</a></li>
              <li role="presentation"><a href="#seating" aria-controls="seating" role="tab" data-toggle="tab">Seating Chart</a></li>
              <li role="presentation"><a href="#quiz" aria-controls="quiz" role="tab" data-toggle="tab">Quiz Mode</a></li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content">
                
                
                <!--Roster View-->
                <div role="tabpanel" class="tab-pane fade in active" id="roster"> 
                    <div class="list-group">
                        <table id = "faceTable" class ="table"> 
<!--
                            <tr> 
                                <td>
                                  <img src="http://cdn87.psbin.com/img/mw=160/mh=210/cr=n/d=c422d/q03q76r57wdhlk7b.jpg" alt="Cimran Virdi" height="70" width="60"> </td> 
                                <td class = "studentName"> Cimran Virdi</td>
                             </tr>
-->
                        </table>
                    </div>  
                </div>
                <!--End of Roster View-->
                
                
        
              <!--Seating Chart-->

              <div role="tabpanel" class="tab-pane fade" id="seating">
                <div id="picture-bank">
                  <img class="seating-picture drag" src="faces/Allie.png">
                  <img class="seating-picture drag" src="faces/Eben.png">
                  <img class="seating-picture drag" src="faces/Joyce.png">
                  <img class="seating-picture drag" src="faces/Malika.png">
                  <img class="seating-picture drag" src="faces/McCall.png">
                  <img class="seating-picture drag" src="faces/Milly.png">
                  <img class="seating-picture drag" src="faces/Sara.jpg">
                  <img class="seating-picture drag" src="faces/Scotty.png">
                </div>
                <div id="seating-area">
                  <div id="half-circle-container">
                    <div id="half-circle">
                      <div id="circle">
                        <div id="triangle"></div>                        
                      </div>
                    </div>                  
                  </div>

                </div>
              </div>
        <!--Flashcards-->

              <!--End of Seating Chart-->

              <!--Quiz Mode-->
              <div role="tabpanel" class="tab-pane fade" id="quiz">
                    <div id ="sideBar">
                      <div id = "sideBarHeading"> Progress</div>
                      <div class = "sideBarProgress">Correct So Far: 0</div>                       
                      <div class = "sideBarProgress">Incorrect So Far: 0</div>
                      <button id = "endQuizButton" class = "btn btn-default">End Quiz</button>
                    </div>
                <div class="panel panel-default flashcardBox">
                  <!--Create a quiz-->
                  <div class="panel-body flashcard createQuiz" style=  "padding-top: 10px";>                   
                      <div class="row">
                        <div class="">
                          <div>
                               <div class = "quizHeading">Create a New Quiz!</div>  
                               <form class ="col-md-offset-3" id = "createQuizQuestions" action = "">
                               <div>1. Select a quiz type:</div>
                                <input type = "radio" name = "quizType" id = "toLearnNew" checked= "checked"> Learn New Students <br>
                                <div>    </div> <input type = "radio" name = "quizType" id = "toReview" padding-left="5px"> Review Learned students<br>
                                <p> </p>
                                <div>2. Select a number of students to learn:</div>
                                <input type = "radio" name = "studentNumbers" id = "ten" checked = "checked"> 10<br>
                                <input type = "radio" name = "studentNumbers" id = "twenty"> 20<br>
                                 <input type = "radio" name = "studentNumbers" id = "thirty"> 30<br>
                              </form>
                          </div>
                          <button id = "okButton" class = "btn btn-success col-md-offset-8">Start Quiz</button>
                      </div>
                    </div>
                  </div>
                  <!--Back of Flashcard with Name and check/X-->
                  <div class="panel-body flashcard hidden flashcardBack" style=  "padding-top: 40px";>                   
                    <div class="row">
                      <div class="col-md-4"></div>
                      <div class="col-md-4">
                           <div id = "flashcardName">Jane Doe</div>
                           <div id = "learned" class = "flashcardLearned"> Do you know this Student?</div>
                           <div><img id = "check" class = "checkmark" src = "greenCheck.png"></img><img id = "x" class = "delete" src = "redX.png"></img></div>
                      </div>
                    </div>
                  </div>
                  <!--Front of Flashcard with Face and click to flip-->
                  <div class="panel-body flashcard hidden flashcardFront" style=  "padding-top: 40px";>                   
                    <div class="row">
                      <div class="col-md-4"></div>
                      <div class="col-md-4">
                           <img id = "flashcardFace" class = "thumbnail" src="faceFemale.jpg"></img></div>
                      </div>
                  </div>
                  <div id = "flashcardProgress" class ="progress1 hidden">1 of 3</div>
                  <div class = "flip hidden">click to flip</div>
                  <!--Finishing Quiz screen-->
                  <div class="panel-body flashcard finishQuiz hidden" style=  "padding-top: 10px";>                   
                      <div class="row">
                        <div class="">                               
                          <div class = "quizHeading">You finished your quiz!</div>  
                            <div class = "col-md-offset-4">
                          <button id = "restartQuizButton" class = "btn btn-success">Restart Quiz</button>
                          <button id = "startNewQuizButton" class = "btn btn-success">Start New Quiz</button>
                            </div>
                      </div>
                    </div>
                  </div>
               </div>
             </div>
                </div>
              </div>
              <!--End of Quiz Mode-->

            </div>
          </div> <!-- tab frame -->
      </div>
    </div>

    <script>

        var ALL  = ["Allie", "Joyce", "Malika", "McCall", "Milly", "Sara", "Scotty", "Eben"]
        var Female = [ "Allie", "Joyce", "Malika", "McCall", "Milly", "Sara"]; 
        var Male = ["Scotty", "Eben"]; 
        var Learned = ["Allie", "Joyce", "Malika", "McCall"]
        var ToLearn = ["Milly", "Sara", "Scotty", "Eben"]; 
        var FiltersOn = [];   
        var list_of_people = [];
        
        // Database of Students 
        var Allie = Student("Allie", "Erixxon", "F", false, true);
        var Joyce = Student("Joyce", "Hong", "F", false, true);
        var Malika = Student("Malika", "Flanagan", "F", false, true);
        var McCall = Student("McCall", "Houston", "F", false, true);
        var Milly = Student("Milly", "Helmick", "F", false, true); 
        var Sara = Student("Sara", "Huang", "F", false, true); 
        var Scotty = Student("Scotty", "", "M", false, true); 
        var Eben = Student("Eben", "", "M", false, true); 
        
        var list_of_students = [Allie, Joyce, Malika, McCall, Milly, Sara, Scotty, Eben];

        var dict = {"Allie": "faces/Allie.png", "Joyce": "faces/Joyce.png", "Malika":"faces/Malika.png", "McCall":"faces/McCall.png", "Milly":"faces/Milly.png", "Sara":"faces/Sara.jpg", "Scotty": "faces/Scotty.png", "Eben": "faces/Eben.png"};

      
      $(document).ready(function() {
        //var names  = ["Malika Flanagan", "Joyce Hong", "Cimran Virdi", "Allie Erixxon", "Sara Huang"]
        //var pictures = ["faces/malika.png", "faces/joyce.png",]
        var counter = 0
        var finished = false
        var correct = 0
        inQuiz = false
        var size1 = 0
        var learnedStudents 
        var numberOfStudents


        document.getElementById("ToLearn").checked = true;
        document.getElementById("Learned2").checked = true;
        FiltersOn.push(Learned);
        FiltersOn.push(ToLearn);
            FiltersOn = $.unique(FiltersOn.sort()).sort();
            // Fill in the roster based on the filters that are checked
                
            var list_of_people = [];
            for (i = 0; i < FiltersOn.length; i++ ) {
                var filter = FiltersOn[i]; // 
                
                for (j = 0; j < filter.length; j++ ) {
                    list_of_people.push(filter[j]) // add each person to the list_of_people
                }
            }
            
            list_of_people = $.unique(list_of_people.sort()).sort();
            
            /// iterate through the list and add roster lines for each person
            for (k = 0; k < list_of_people.length; k++) { 
                var currentPerson = list_of_people[k] 
                var newRow = document.getElementById("faceTable").insertRow(k);
                var newPic = document.createElement('img');
                newPic.src = dict[currentPerson];
                var newface = newRow.insertCell(0);
                newface.innerHTML = "<img src=" + newPic.src + " alt=" + currentPerson + "height='70' width='60'>"; 
                var newName = newRow.insertCell(1);           
                newName.innerHTML = currentPerson;
            }

        $('#myTabs').on('click', function() {
            document.getElementById("ToLearn").disabled = false;
            document.getElementById("Learned2").disabled = false;
            document.getElementById("Undergrad").disabled = false;
            document.getElementById("Grad").disabled = false;
            document.getElementById("Male").disabled = false;
            document.getElementById("Female").disabled = false;
        });

        $('#startNewQuizButton').on('click', function() {
            $('.createQuiz').toggleClass('hidden');
            $('.finishQuiz').toggleClass('hidden');


        });

        $("#okButton").on('click', function() {
          //check radio buttons learned students
          if(document.getElementById('toReview').checked) {
            learnedStudents= true}
          else if(document.getElementById('toLearnNew').checked) {
            learnedStudents = false}
          if(document.getElementById('ten').checked) {
            numberOfStudents= 10}
          else if(document.getElementById('twenty').checked) {
            numberOfStudents= 20}           
          else if(document.getElementById('thirty').checked) {
            numberOfStudents= 30} 

          inQuiz = true;
          size1 = list_of_people.length
          if (size1 !=0) {
          var thisFace = list_of_people[counter];
          $('.flashcardFront').toggleClass('hidden');
          $('.createQuiz').toggleClass('hidden');
          document.getElementById("flashcardName").innerHTML = thisFace;
          document.getElementById("flashcardFace").src = dict[thisFace];
          document.getElementById("flashcardProgress").innerHTML = (counter+1)+ " of " +size1;

          //disable filters for quiz
          document.getElementById("Female").disabled = true;
          document.getElementById("ToLearn").disabled = true;
          document.getElementById("Learned2").disabled = true;
          document.getElementById("Undergrad").disabled = true;
          document.getElementById("Grad").disabled = true;
          document.getElementById("Male").disabled = true;
            
            $('.flashcardBack').toggleClass('hidden');
            $('.flashcardFront').toggleClass('hidden');
            $('.progress1').toggleClass('hidden');

        }

        });

        //flips card over
        $('.flashcardBox').on('click', function() {
          if(finished == false && inQuiz == true && size1 != 0){
            console.log("in flip");
            $('.flashcardBack').toggleClass('hidden');
            $('.flashcardFront').toggleClass('hidden');
            $('.flip').toggleClass('hidden');
            $('.progress1').toggleClass('hidden');
          }
        });


     

        //when delete or checkmark are pressed, turns to front of card with different names
        $('.delete').on('click', function() {
          console.log("delete");
          counter = counter+1
          var thisFace = list_of_people[counter];
          document.getElementById("flashcardName").innerHTML = thisFace;
          document.getElementById("flashcardFace").src = dict[thisFace];
          document.getElementById("flashcardProgress").innerHTML = (counter+1)+ " of " +size1;

        //quiz finished
          if(counter == size1){
            $('.flashcardBack').toggleClass('hidden');
            $('.finishQuiz').toggleClass('hidden');
            //document.getElementById("flashcardName").style.display = "none"
            //document.getElementById("check").style.display = "none";
            //document.getElementById("x").style.display = "none";
            //document.getElementById("learned").style.display = "none";
            document.getElementById("flashcardProgress").style.display = "none";
            finished= true;
            //document.getElementById("ToLearn").disabled = false;
            document.getElementById("Learned2").disabled = false;
            document.getElementById("Undergrad").disabled = false;
            document.getElementById("Grad").disabled = false;
            document.getElementById("Male").disabled = false;
            document.getElementById("Female").disabled = false;
          }
       });



        $('.checkmark').on('click', function() {
          counter = counter + 1
          correct = correct + 1
          var thisFace = list_of_people[counter];
          document.getElementById("flashcardName").innerHTML = thisFace;
          document.getElementById("flashcardFace").src = dict[thisFace];
          document.getElementById("flashcardProgress").innerHTML = (counter+1)+ " of " +size1;

          if(counter == size1){
            $('.flashcardBack').toggleClass('hidden');
            $('.finishQuiz').toggleClass('hidden');
            //document.getElementById("flashcardName").style.display = "none"
            //document.getElementById("check").style.display = "none";
            //document.getElementById("x").style.display = "none";
            //document.getElementById("learned").style.display = "none";
            document.getElementById("flashcardProgress").style.display = "none";
            document.getElementById("ToLearn").disabled = false;
            document.getElementById("Learned2").disabled = false;
            document.getElementById("Undergrad").disabled = false;
            document.getElementById("Grad").disabled = false;
            document.getElementById("Male").disabled = false;
            document.getElementById("Female").disabled = false;
            finished= true;
            
          }
       });

        $('.checkmark').hover( function() {
            document.getElementById("check").src = "greenCheckDark.png";},
            function(){
            document.getElementById("check").src = "greenCheck.png";
             });

        $('.delete').hover( function() {
            document.getElementById("x").src = "RedXDark.png";},
            function(){
            document.getElementById("x").src = "redX.png";
             });

    });


    
    </script>


    <script src="./mainlayout.js"></script>
  </body>
</html>